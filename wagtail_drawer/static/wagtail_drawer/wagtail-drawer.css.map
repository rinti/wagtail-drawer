{
  "version": 3,
  "file": "wagtail-drawer.css",
  "sources": [
    "../../../frontend/src/App.svelte",
    "../../../frontend/src/Item.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import Item from './Item.svelte';\n    import { onMount } from 'svelte';\n\n    let items = [];\n    let isOpen = false;\n\n    const fetchInitial = async () => {\n        const response = await fetch('http://localhost:8000/admin/api/v2beta/pages/?child_of=1&for_explorer=1')\n        const data = await response.json()\n        items = data.items\n    }\n\n    const topLevelItems = () => {\n        const x = items.filter(item => item.parent === undefined)\n        return x\n    }\n\n    onMount(() => {\n        // Todo: Remove this hack\n        setTimeout(() => {\n            const clickEl = document.querySelector('[data-drawer-menu-item]')\n            clickEl.addEventListener('click', (e) => {\n                e.preventDefault()\n                isOpen = !isOpen\n            })\n        }, 1000)\n    })\n\n    $: classes = isOpen ? 'Drawer--open' : ''\n\n    fetchInitial()\n</script>\n\n<style>\n    .Drawer {\n        position: absolute;\n        right: 100px;\n        left: 100px;\n        background-color: #fff;\n        padding: 20px;\n        z-index: -1000px;\n        opacity: 0;\n        height: fit-content;\n        transition: opacity .4s ease-in-out, transform .4s ease-in-out;\n        transform: translateY(-200px);\n        will-change: opacity, transform;\n    }\n\n    .Drawer--open {\n        opacity: 1;\n        z-index: 1000;\n        transform: translateY(0);\n    }\n</style>\n\n<div class=\"Drawer {classes}\">\n    <div class=\"Drawer__Container\">\n        {#each topLevelItems(items) as item}\n            <Item {item} />\n        {/each}\n    </div>\n</div>\n",
    "<script>\n    let children = [];\n    export let item;\n\n    const fetchChildren = async () => {\n        const url = item.meta.children.listing_url.replace('localhost', 'localhost:8000')\n        const response = await fetch(`${url}&for_explorer=1`)\n\n        const data = await response.json()\n        children = data.items\n    }\n\n    $: hasChildren = item.meta.children && item.meta.children.count > 0;\n    $: linkClasses = hasChildren ? 'icon icon-folder-inverse' : 'icon icon-doc-full-inverse';\n    $: buttonClasses = hasChildren ? 'Item__Expand' : 'Item__Expand Item__Expand--Hide';\n</script>\n\n<style>\n    .Item {\n        padding: 10px;\n    }\n\n    .Item .icon:before {\n        margin-right: 8px;\n    }\n\n    .Item__Link {\n        font-size: 1rem;\n        display: block;\n    }\n\n    .Item__Wrap {\n        display: flex;\n    }\n\n    .Item__Expand {\n        border: 0;\n        font-size: 1rem;\n        padding: 0;\n    }\n\n    .Item__Expand--Hide {\n        opacity: 0;\n        visibility: hidden;\n        pointer-events: none;\n    }\n</style>\n\n<div class=\"Item\">\n    <div class=\"Item__Wrap\">\n        <button class=\"{buttonClasses}\">\n            <span class=\"icon icon-arrow-right\"></span>\n        </button>\n        <a href=\"#drawer\" class=\"Item__Link {linkClasses}\" on:click={() => fetchChildren(item)}>\n            {item.title}\n        </a>\n    </div>\n    {#if children.length > 0}\n        {#each children as child}\n            <svelte:self item={child} />\n        {/each}\n    {/if}\n</div>\n"
  ],
  "names": [],
  "mappings": "AAmCI,OAAO,eAAC,CAAC,AACL,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,CACZ,IAAI,CAAE,KAAK,CACX,gBAAgB,CAAE,IAAI,CACtB,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,OAAO,CAChB,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,WAAW,CACnB,UAAU,CAAE,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAC9D,SAAS,CAAE,WAAW,MAAM,CAAC,CAC7B,WAAW,CAAE,OAAO,CAAC,CAAC,SAAS,AACnC,CAAC,AAED,aAAa,eAAC,CAAC,AACX,OAAO,CAAE,CAAC,CACV,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,WAAW,CAAC,CAAC,AAC5B,CAAC;ACnCD,KAAK,cAAC,CAAC,AACH,OAAO,CAAE,IAAI,AACjB,CAAC,AAED,mBAAK,CAAC,mBAAK,OAAO,AAAC,CAAC,AAChB,YAAY,CAAE,GAAG,AACrB,CAAC,AAED,WAAW,cAAC,CAAC,AACT,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,KAAK,AAClB,CAAC,AAED,WAAW,cAAC,CAAC,AACT,OAAO,CAAE,IAAI,AACjB,CAAC,AAED,aAAa,cAAC,CAAC,AACX,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,IAAI,CACf,OAAO,CAAE,CAAC,AACd,CAAC,AAED,mBAAmB,cAAC,CAAC,AACjB,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,MAAM,CAClB,cAAc,CAAE,IAAI,AACxB,CAAC"
}